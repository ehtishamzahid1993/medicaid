<?xml version="1.0"?>
<f:view xmlns="http://www.w3.org/1999/xhtml"
   xmlns:f="http://xmlns.jcp.org/jsf/core"
   xmlns:h="http://xmlns.jcp.org/jsf/html"
   xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
   xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
   xmlns:fn="http://java.sun.com/jsp/jstl/functions"
   xmlns:p="http://primefaces.org/ui">
 
<h:head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"></link>
<h:outputStylesheet library="css" name="style.css"/>

</h:head>
<h:body>

   
    
    
					    <h5>All Facilities</h5>
					    <h:form>
					        <p:dataTable id="tbl" var="patient" value="#{patientBean.patientsList}" widgetVar="patientTable"
					            emptyMessage="No Patients found" rowKey="#{patient.patientId}"
					            selection="#{patientBean.patient}" selectionMode="single">
					
					            <f:facet name="header">
					            
					            	<div class="flex justify-content-end">
					                    <p:commandButton  value="New patient"  action="#{patientBean.addNewPatient}" update="@form" />
					                    
					                     <p:commandButton  style="background: #8c9496;border: 1px solid #8C9496;" value="Edit patient"  action="#{patientBean.editPatient}" update="@form" />
					                     
					                     <p:commandButton value="Export as CSV" styleClass="mr-2 mb-2">
						                    <p:dataExporter type="csv" target="tbl" fileName="patients" />
						                </p:commandButton>
					                
					                    <p:inputText  id="globalFilter" onkeyup="PF('patientTable').filter()" style="width:300px; float:right !important;"
					                                 placeholder="Search" />
					                </div>
					            </f:facet>
					
					            <p:column headerText="Name" filterBy="#{patient.firstName}" filterMatchMode="contains">
					                <h:outputText value="#{patient.firstName} #{patient.lastName}" />
					            </p:column>
					            
					            <p:column headerText="Email"  filterBy="#{patient.emailAddress}" filterMatchMode="contains">
					                <h:outputText value="#{patient.emailAddress}" />
					            </p:column>
					            
					             <p:column headerText="Phone" filterBy="#{patient.phoneNo}" filterMatchMode="contains">
					                <h:outputText value="#{patient.phoneNo}" />
					            </p:column>
					            
					            <p:column headerText="Admit Date" filterBy="#{patient.admitDate}" filterMatchMode="contains">
					                <h:outputText value="#{patient.admitDate}" />
					            </p:column>
					            
					            <p:column headerText="DOB" filterBy="#{patient.dateOfBirth}" filterMatchMode="contains">
					                <h:outputText value="#{patient.dateOfBirth}" />
					            </p:column>
					            
					            <p:column headerText="Admit Payer" filterBy="#{patient.admitPayer}" filterMatchMode="contains">
					                <h:outputText value="#{patient.admitPayer}" />
					            </p:column>
					            
					            <p:column headerText="Medicaid Date" filterBy="#{patient.medicaidNeedDate}" filterMatchMode="contains">
					                <h:outputText value="#{patient.medicaidNeedDate}" />
					            </p:column>
					            
					            <p:column headerText="Medicaid" filterBy="#{patient.haveMedicaid}" filterMatchMode="contains">
					                <h:outputText value="#{patient.haveMedicaid}" />
					            </p:column>
					            
					             <p:column headerText="Address" filterBy="#{patient.address}" filterMatchMode="contains">
					                <h:outputText value="#{patient.address} #{patient.city} #{patient.state} #{patient.zipcode}" />
					            </p:column>
					            
					            
					
					            
					
					        </p:dataTable>
					    </h:form>
    
    
    


</h:body>
</f:view>